<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>清风醉博客</title><meta name="author" content="清风醉博客"><meta name="copyright" content="清风醉博客"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="清风醉博客">
<meta property="og:url" content="http://ljm2007.github.io/page/3/index.html">
<meta property="og:site_name" content="清风醉博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://ljm2007.github.io/img/favicon.jpg">
<meta property="article:author" content="清风醉博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://ljm2007.github.io/img/favicon.jpg"><link rel="shortcut icon" href="/img/favicon.jpg"><link rel="canonical" href="http://ljm2007.github.io/page/3/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '清风醉博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-02-26 14:23:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/list/"><i class="fa-fw fas fa-list"></i><span> 列表</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/top_img/top.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">清风醉博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/list/"><i class="fa-fw fas fa-list"></i><span> 列表</span></a></div><div class="menus_item"><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">清风醉博客</h1><div id="site_social_icons"><a class="social-icon" href="https://github.com/ljm2007" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/26/android%E5%A4%B8%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1-AIDL/" title="android夸进程通信-AIDL"><img class="post_bg" src="https://s2.loli.net/2023/08/26/GjXxt3wIDgW8Js2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="android夸进程通信-AIDL"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/26/android%E5%A4%B8%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1-AIDL/" title="android夸进程通信-AIDL">android夸进程通信-AIDL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-26T13:55:43.000Z" title="发表于 2023-08-26 21:55:43">2023-08-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">android</a></span></div><div class="content">1.在服务端创建ALDL文件



会生成AIDL文件及接口文件


123456789101112// IMyAidlInterface.aidlpackage com.example.startservicefromanotherapp;// Declare any non-default types here with import statementsinterface IMyAidlInterface &#123;    void basicTypes(int anInt, long aLong, boolean aBoolean, float aFloat,            double aDouble, String aString);     void SetData(String str); //这是我自己写的 以后会用来接收消息&#125;

2.创建Server组件

123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/18/Kotlin%20%E4%B8%AD%E7%9A%84%20lambda/" title="Kotlin中的lambda"><img class="post_bg" src="https://s2.loli.net/2023/08/18/qGUY8y2d4CQXnxS.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kotlin中的lambda"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/18/Kotlin%20%E4%B8%AD%E7%9A%84%20lambda/" title="Kotlin中的lambda">Kotlin中的lambda</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-18T02:18:40.000Z" title="发表于 2023-08-18 10:18:40">2023-08-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/lambda/">lambda</a></span></div><div class="content">

1. lambda 表达式基本语法1.1 lambda 表达式分类在 Kotlin 实际上可以把 Lambda 表达式分为两个大类，
一个是普通的 lambda 表达式，另一个则是带接收者的 lambda 表达式。
这两种 lambda 在使用和使用场景也是有很大的不同。先看下以下两种 lambda表达式的类型声明：

针对带接收者的 Lambda 表达式在 Kotlin 中标准库函数中也是非常常见的比如 with,apply 标准函数的声明。
12345678910111213141516@kotlin.internal.InlineOnlypublic inline fun &lt;T, R&gt; with(receiver: T, block: T.() -&gt; R): R &#123;    contract &#123;        callsInPlace(block, InvocationKind.EXACTLY_ONCE)    &#125;    return receiver.block()&#125;@kotlin.internal.InlineOnl ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/28/%E4%B8%80%E4%B8%AA%E8%A5%BF%E7%93%9C%E5%88%874%E5%88%80%E6%9C%80%E5%A4%9A%E6%9C%89%E5%87%A0%E5%9D%97/" title="一个西瓜切4刀最多有几块？"><img class="post_bg" src="https://s2.loli.net/2023/05/28/B9ezCkDZhFXVTSf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一个西瓜切4刀最多有几块？"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/28/%E4%B8%80%E4%B8%AA%E8%A5%BF%E7%93%9C%E5%88%874%E5%88%80%E6%9C%80%E5%A4%9A%E6%9C%89%E5%87%A0%E5%9D%97/" title="一个西瓜切4刀最多有几块？">一个西瓜切4刀最多有几块？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-28T15:41:40.000Z" title="发表于 2023-05-28 23:41:40">2023-05-28</time></span></div><div class="content">
一个两维的饼如果切N刀能切几块公式如下
  an &#x3D; 1+1&#x2F;2n(n+1)
一个三维的西瓜如果切N刀能切几块公式如下
bn &#x3D; 1&#x2F;6n^3+5&#x2F;6n+1
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/20/%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E7%9F%A5%E8%AF%86/" title="梯度下降知识"><img class="post_bg" src="https://s2.loli.net/2023/05/20/nCWOkMglcT86x7p.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="梯度下降知识"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/20/%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D%E7%9F%A5%E8%AF%86/" title="梯度下降知识">梯度下降知识</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-20T15:43:06.000Z" title="发表于 2023-05-20 23:43:06">2023-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AI/">AI</a></span></div><div class="content">在求解机器学习算法的模型参数，即无约束优化问题时，梯度下降算法（Gradient Descent Algorithm）是最常采用的方法之一，也是众多机器学习算法中最常用的优化方法，几乎当前每一个先进的机器学习库或者深度学习库都会包括梯度下降算法的不同变种实现。
梯度就是导数
梯度下降法就是一种通过求目标函数的导数来寻找目标函数最小化的方法。
梯度下降目的是找到目标函数最小化时的取值所对应的自变量的值，目的是为了找自变量X。
​    最优化问题在机器学习中有非常重要的地位，很多机器学习算法最后都归结为求解最优化问题。最优化问题是求解函数极值的问题，包括极大值和极小值。在各种最优化算法中，梯度下降法是最简单、最常见的一种，在深度学习的训练中被广为使用。
​                 
​    如上图所示，当目标函数为g(x)时，求目标函数的最小值。一般首先求g(x)的导数，然后使导数等于0，那么目标函数的最小值为0，此时的自变量X取值为0。在这里我们可能会问：直接求函数的导数&#x2F;梯度，然后令导数&#x2F;梯度为0，解方程，问题不就解决了吗？事实上没这么简单，因为在机器学 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/18/%E6%A6%82%E7%8E%87-%E6%9C%9F%E6%9C%9B-%E6%96%B9%E5%B7%AE/" title="概率 期望 方差"><img class="post_bg" src="https://s2.loli.net/2023/05/18/W7hNsxbZXBgmURk.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="概率 期望 方差"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/18/%E6%A6%82%E7%8E%87-%E6%9C%9F%E6%9C%9B-%E6%96%B9%E5%B7%AE/" title="概率 期望 方差">概率 期望 方差</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-18T04:39:26.000Z" title="发表于 2023-05-18 12:39:26">2023-05-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AI/">AI</a></span></div><div class="content">概率定义
概率（香港作概率，台湾作机率，旧称几率，又称机会率或或然率），是对随机事件发生之可能性的度量[1]，为数学概率论的基本概念；机率的值是一个在0到1之间的实数，也常以百分数来表示。

拿一个的 用 概率 &#x3D; 事件包含的情况数&#x2F;所有的情况的总数

拿二个以上的 概率 

先拿一个后在拿一个的

相对独立 条件相同的 

以上几种情况都有公式对应，查看下面截图




            

一些视频资料01 随机事件发生的概率 概率及统计案例 高中数学
02 离散型随机变量的分布列  概率及统计案例 高中数学


03 超几何分布 概率及统计案例 高中数学



04 条件概率 概率及统计案例 高中数学



05 事件的独立性 .概率及统计案例 高中数学

06 独立重复试验 概率及统计案例 高中数学


07 二项分布 概率及统计案例 高中数学


08 数学期望及性质 概率及统计案例 高中数学



09 数学期望的实际应用 概率及统计案例 高中数学


10 离散型随机变量的方差 概率及统计案例 高中数学

11 方差的性质及常见分布的方差 概率及 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/18/%E5%AF%BC%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="导数的一些基础知识"><img class="post_bg" src="https://s2.loli.net/2023/05/18/QTRGpHg9AMWvmCc.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="导数的一些基础知识"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/18/%E5%AF%BC%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="导数的一些基础知识">导数的一些基础知识</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-05-18T01:55:37.000Z" title="发表于 2023-05-18 09:55:37">2023-05-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/AI/">AI</a></span></div><div class="content">一.导数的概念​             1.导数：在一瞬间，函数相对于变量的变化率




导数是标量，有N个方向，就是一个点，或者N个点，点和点的变化。如果是一元函数 可以理解是三解形的斜率

​            3 除法定则或商定则（英语：Quotient rule）是数学中关于两个函数的商的导数的一个计算定则。 可用口诀：分                子纤维（分子先微分）若已知两个可导函数g,h及其导数g’,h’，且h(x)≠0，则它们的商
​    



二.梯度的概念梯度：我们对一个多元函数求偏导，会得到多个偏导函数。这些导函数组成的向量，就是梯度。 一元函数的梯度可以理解为就是它的导数。梯度就是对一个多元函数的未知数求偏导，得到的偏导函数构成的向量就叫梯度

梯度是向量，有方向
梯度：是一个矢量，其方向上的方向导数最大，其大小正好是此最大方向导数。
为什么所有方向导数中会存在并且只存在一个最大值？例如：光滑的、笔直的玻璃上的水滴，一定会沿着玻璃滑下来，（理想情况下）滑下来的方向就是玻璃最陡峭的地方。对于笔直的平面玻璃而言，这个滑下来的方向是只有一个。
方向导数 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/13/2023-02-13-frida%E6%9E%9A%E4%B8%BE%E5%BD%93%E5%89%8D%E5%8A%A0%E8%BD%BD%E7%9A%84%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E6%A8%A1%E5%9D%97%E4%B8%AD%E6%96%B9%E6%B3%95/" title="frida枚举当前加载的模块以及模块中方法"><img class="post_bg" src="https://s2.loli.net/2023/02/13/JoBMthknSd29bID.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="frida枚举当前加载的模块以及模块中方法"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/13/2023-02-13-frida%E6%9E%9A%E4%B8%BE%E5%BD%93%E5%89%8D%E5%8A%A0%E8%BD%BD%E7%9A%84%E6%A8%A1%E5%9D%97%E4%BB%A5%E5%8F%8A%E6%A8%A1%E5%9D%97%E4%B8%AD%E6%96%B9%E6%B3%95/" title="frida枚举当前加载的模块以及模块中方法">frida枚举当前加载的模块以及模块中方法</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-13T10:18:40.000Z" title="发表于 2023-02-13 18:18:40">2023-02-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/frida/">frida</a></span></div><div class="content">
frida枚举当前加载的模块以及模块中方法发布于2021-02-02 11:10:48阅读 1.3K0
1.枚举当前加载的模块1234567891011121314Java.perform(function()&#123;//枚举当前加载的模块var process_Obj_Module_Arr = Process.enumerateModules();for(var i = 0; i &lt; process_Obj_Module_Arr.length; i++) &#123;   //包含&quot;lib&quot;字符串的   if(process_Obj_Module_Arr[i].path.indexOf(&quot;lib&quot;)!=-1)   &#123;       console.log(&quot;模块名称:&quot;,process_Obj_Module_Arr[i].name);       console.log(&quot;模块地址:&quot;,process_Obj_Module_Arr[i].base);       console.log ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/12/%E3%80%90Android%E3%80%91%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93so%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86/" title="【Android】动态链接库so的加载原理"><img class="post_bg" src="https://itimetraveler.github.io/gallery/android_common/Android3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【Android】动态链接库so的加载原理"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/12/%E3%80%90Android%E3%80%91%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93so%E7%9A%84%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86/" title="【Android】动态链接库so的加载原理">【Android】动态链接库so的加载原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-12T10:18:40.000Z" title="发表于 2023-02-12 18:18:40">2023-02-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">android</a></span></div><div class="content">
【Android】动态链接库so的加载原理前言最近开发的组件时常出现了运行时加载so库失败问题，每天都会有java.lang.UnsatisfiedLinkError的错误爆出来，而且线上总是偶然复现，很疑惑。所以本文将从AOSP源码简单跟踪Android中的动态链接库so的加载原理，试图找出一丝线索。
加载入口首先我们知道在Android(Java)中加载一个动态链接库非常简单。就是我们日常调用的 System.load(Sring filename) 或者System.loadLibrary(String libname)开始。 看过《理解JNI技术》的应该知道上述代码执行过程中会调用native层的JNI_OnLoad()方法，一般用于动态注册native方法。
# System.loadLibrary[System.java]
123public static void loadLibrary(String libname) &#123;    Runtime.getRuntime().loadLibrary0(VMStack.getCallingClassLoader(), ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/12/%E8%80%81%E5%A4%A7%E9%9A%BE%E7%9A%84%20Java%20ClassLoader%20%E5%86%8D%E4%B8%8D%E7%90%86%E8%A7%A3%E5%B0%B1%E8%80%81%E4%BA%86/" title="Java ClassLoader"><img class="post_bg" src="https://s2.loli.net/2023/02/12/oqHg28FldTCwXB3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java ClassLoader"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/12/%E8%80%81%E5%A4%A7%E9%9A%BE%E7%9A%84%20Java%20ClassLoader%20%E5%86%8D%E4%B8%8D%E7%90%86%E8%A7%A3%E5%B0%B1%E8%80%81%E4%BA%86/" title="Java ClassLoader">Java ClassLoader</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-12T10:18:40.000Z" title="发表于 2023-02-12 18:18:40">2023-02-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/android/">android</a></span></div><div class="content">
Java ClassLoader 再不理解就老了ClassLoader 是 Java 届最为神秘的技术之一，无数人被它伤透了脑筋，摸不清门道究竟在哪里。网上的文章也是一篇又一篇，经过本人的亲自鉴定，绝大部分内容都是在误导别人。本文我带读者彻底吃透 ClassLoader，以后其它的相关文章你们可以不必再细看了。
ClassLoader 做什么的？顾名思义，它是用来加载 Class 的。它负责将 Class 的字节码形式转换成内存形式的 Class 对象。字节码可以来自于磁盘文件 *.class，也可以是 jar 包里的 *.class，也可以来自远程服务器提供的字节流，字节码的本质就是一个字节数组 []byte，它有特定的复杂的内部格式。

有很多字节码加密技术就是依靠定制 ClassLoader 来实现的。先使用工具对字节码文件进行加密，运行时使用定制的 ClassLoader 先解密文件内容再加载这些解密后的字节码。
每个 Class 对象的内部都有一个 classLoader 字段来标识自己是由哪个 ClassLoader 加载的。ClassLoader 就像一个容器，里面装了 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/12/frida%E7%9A%84%E7%94%A8%E6%B3%95--Hook%20Java%E4%BB%A3%E7%A0%81%E7%AF%87/" title="frida的用法–Hook Java代码篇"><img class="post_bg" src="https://bit.ly/3WkSvF9" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="frida的用法–Hook Java代码篇"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/12/frida%E7%9A%84%E7%94%A8%E6%B3%95--Hook%20Java%E4%BB%A3%E7%A0%81%E7%AF%87/" title="frida的用法–Hook Java代码篇">frida的用法–Hook Java代码篇</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-02-12T05:47:04.000Z" title="发表于 2023-02-12 13:47:04">2023-02-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/frida/">frida</a></span></div><div class="content">
frida的用法–Hook Java代码篇frida是一款方便并且易用的跨平台Hook工具，使用它不仅可以Hook Java写的应用程序，而且还可以Hook原生的应用程序。
1. 准备frida分客户端环境和服务端环境。在客户端我们可以编写Python代码，用于连接远程设备，提交要注入的代码到远程，接受服务端的发来的消息等。在服务端，我们需要用Javascript代码注入到目标进程，操作内存数据，给客户端发送消息等操作。我们也可以把客户端理解成控制端，服务端理解成被控端。假如我们要用PC来对Android设备上的某个进程进行操作，那么PC就是客户端，而Android设备就是服务端。
1.1 准备frida服务端环境#本文，服务端在Android平台测试。服务端环境准备步骤如下：

根据自己的平台下载frida服务端并解压https://github.com/frida/frida/releases
执行以下命令将服务端推到手机的&#x2F;data&#x2F;local&#x2F;tmp目录adb push frida-server /data/local/tmp/frida-ser ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">清风醉博客</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/ljm2007" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/02/24/Compose%20Desktop%E5%B0%8F%E7%99%BD%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/" title="Compose Desktop小白入门教程从零到打包"><img src="https://s2.loli.net/2024/02/26/yrfz2hPsEZKI9l3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Compose Desktop小白入门教程从零到打包"/></a><div class="content"><a class="title" href="/2024/02/24/Compose%20Desktop%E5%B0%8F%E7%99%BD%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/" title="Compose Desktop小白入门教程从零到打包">Compose Desktop小白入门教程从零到打包</a><time datetime="2024-02-24T04:21:33.615Z" title="发表于 2024-02-24 12:21:33">2024-02-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/18/Kotlin%20-by%20%E8%AF%A6%E8%A7%A3/" title="Kotlin 中 by 关键字"><img src="https://s2.loli.net/2023/05/20/nCWOkMglcT86x7p.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kotlin 中 by 关键字"/></a><div class="content"><a class="title" href="/2024/02/18/Kotlin%20-by%20%E8%AF%A6%E8%A7%A3/" title="Kotlin 中 by 关键字">Kotlin 中 by 关键字</a><time datetime="2024-02-18T15:43:06.000Z" title="发表于 2024-02-18 23:43:06">2024-02-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/17/Handler%E6%9C%BA%E5%88%B6/" title="Android Handler：图文解析 Handler通信机制 的工作原理"><img src="https://s2.loli.net/2024/02/24/qYeL3VQMEbXmwJd.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Android Handler：图文解析 Handler通信机制 的工作原理"/></a><div class="content"><a class="title" href="/2024/02/17/Handler%E6%9C%BA%E5%88%B6/" title="Android Handler：图文解析 Handler通信机制 的工作原理">Android Handler：图文解析 Handler通信机制 的工作原理</a><time datetime="2024-02-17T02:18:40.000Z" title="发表于 2024-02-17 10:18:40">2024-02-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/16/%E5%9C%A8Activity%E4%B8%AD%E4%BD%BF%E7%94%A8ViewBinding/" title="在Activity中使用ViewBinding"><img src="https://s2.loli.net/2023/09/02/zEhOgs8dyqo6ZjM.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在Activity中使用ViewBinding"/></a><div class="content"><a class="title" href="/2024/02/16/%E5%9C%A8Activity%E4%B8%AD%E4%BD%BF%E7%94%A8ViewBinding/" title="在Activity中使用ViewBinding">在Activity中使用ViewBinding</a><time datetime="2024-02-16T06:04:43.000Z" title="发表于 2024-02-16 14:04:43">2024-02-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/02/16/Kotlin%E5%8D%8F%E7%A8%8B%E5%87%BD%E6%95%B0/" title="KotlinrunBlockinglaunchjoinasyncdelay 原理"><img src="https://s2.loli.net/2023/08/18/qGUY8y2d4CQXnxS.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="KotlinrunBlockinglaunchjoinasyncdelay 原理"/></a><div class="content"><a class="title" href="/2024/02/16/Kotlin%E5%8D%8F%E7%A8%8B%E5%87%BD%E6%95%B0/" title="KotlinrunBlockinglaunchjoinasyncdelay 原理">KotlinrunBlockinglaunchjoinasyncdelay 原理</a><time datetime="2024-02-16T02:18:40.000Z" title="发表于 2024-02-16 10:18:40">2024-02-16</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/AI/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Binder/"><span class="card-category-list-name">Binder</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Context/"><span class="card-category-list-name">Context</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/HeiBaoBox/"><span class="card-category-list-name">HeiBaoBox</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Kotlin/"><span class="card-category-list-name">Kotlin</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/android/"><span class="card-category-list-name">android</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/elf/"><span class="card-category-list-name">elf</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/frida/"><span class="card-category-list-name">frida</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.26em; color: #999fa8">AI</a> <a href="/tags/Binder/" style="font-size: 1.1em; color: #999">Binder</a> <a href="/tags/HeiBao/" style="font-size: 1.18em; color: #999ca1">HeiBao</a> <a href="/tags/HeiBaoBox/" style="font-size: 1.42em; color: #99a6b7">HeiBaoBox</a> <a href="/tags/Kotlin/" style="font-size: 1.34em; color: #99a3b0">Kotlin</a> <a href="/tags/android/" style="font-size: 1.5em; color: #99a9bf">android</a> <a href="/tags/elf/" style="font-size: 1.1em; color: #999">elf</a> <a href="/tags/frida/" style="font-size: 1.18em; color: #999ca1">frida</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/kotlin/" style="font-size: 1.1em; color: #999">kotlin</a> <a href="/tags/lambda/" style="font-size: 1.18em; color: #999ca1">lambda</a> <a href="/tags/mathematics/" style="font-size: 1.1em; color: #999">mathematics</a> <a href="/tags/ndk/" style="font-size: 1.1em; color: #999">ndk</a> <a href="/tags/pip/" style="font-size: 1.1em; color: #999">pip</a> <a href="/tags/%E4%BF%AE%E6%94%B9%E6%BA%90%E7%A0%81/" style="font-size: 1.1em; color: #999">修改源码</a> <a href="/tags/%E6%B3%A8%E5%85%A5so/" style="font-size: 1.18em; color: #999ca1">注入so</a> <a href="/tags/%E8%AE%B2%E4%B9%89/" style="font-size: 1.1em; color: #999">讲义</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">二月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">一月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">38</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-02-26T06:23:46.985Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 清风醉博客</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>